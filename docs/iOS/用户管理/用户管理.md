## 用户登录

**参数说明**

| 参数名 | 类型 | 是否必填 | 说明 |
| ------ | ---- | -------- | ---- |
| params | NSDictionary | 是 | 登录参数 params = ["username": account,"password": password,"projectCode": info.projectCode,"host": info.region] |
| success | block | 是 | 登录成功回调 |
| failure | block | 是 | 登录失败回调，返回NSError对象 |

**代码示例**

```
guard let info = TYIoTSDK.parseProjectQRCode(AppKey.projectQRCode) else {
            return;
}

let params = [
    "username": account,
    "password": password,
    "projectCode": info.projectCode,
    "host": info.region
]

UserService.shared().login(withParams: params) {
    NSLog(@"登录成功");
} failure: { error in
    NSLog(@"登录失败，error = %@", error.localizedDescription);
}
```

## 登出

**参数说明**

| 参数名 | 类型 | 是否必填 | 说明 |
| ------ | ---- | -------- | ---- |
| success | block | 是 | 登出成功回调 |
| failure | block | 是 | 登出失败回调，返回NSError对象 |

**代码示例**

```
UserService.shared().logoutSuccess {
    NSLog(@"登出成功");
} failure: { error in
    NSLog(@"登出失败，error = %@", error.localizedDescription);
}
```
## 获取用户基础信息
IndustryUser该对象用于获取当前行业用户的信息。
**参数说明**

| 参数名 | 类型 | 说明 |
| ------ | ---- | ---- |
| userName | NSString |  |
| userId | NSString |  |
| isLogin | BOOL |  |

**代码示例**
```
UserService.shared().user()?.username
```

## 注册登录会话过期监听

如果用户账号长期未登录，或者账号修改了密码，在访问服务的过程中会返回 Session 过期的错误。此时，您需要监听 `TuyaSmartUserNotificationUserSessionInvalid` 通知，跳转至登录页面，引导用户重新登录。

```
func loadNotification() {
    NotificationCenter.default.addObserver(self, selector: #selector(sessionInvalid), name: NSNotification.Name(rawValue: "TuyaSmartUserNotificationUserSessionInvalid"), object: nil)
}

@objc func sessionInvalid() {
    print("sessionInvalid")
    //跳转至登录页面
        let vc = MyLoginViewController()
        window.rootViewController = vc
        window.makeKeyAndVisible()
}
```